module Stroma
  module Hooks
    class Collection
      extend Forwardable

      @collection: Set[Wrap]

      def initialize: (?Set[Wrap] collection) -> void

      def initialize_dup: (Collection original) -> void

      def add: (Symbol target_key, Module extension) -> Set[Wrap]

      def for: (Symbol key) -> Array[Wrap]

      def each: () { (Wrap) -> void } -> Set[Wrap]

      def map: [T] () { (Wrap) -> T } -> Array[T]

      def empty?: () -> bool

      def size: () -> Integer

      # Protected in Ruby; declared here for Steep visibility in initialize_dup
      attr_reader collection: Set[Wrap]
    end
  end
end
